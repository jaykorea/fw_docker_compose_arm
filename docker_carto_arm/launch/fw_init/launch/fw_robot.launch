<launch>
  <arg name="serial_flag" default="true"/>
  <arg name="smooth_flag" default="true"/>
  <arg name="mux_flag" default="true"/>
  <arg name="joy_flag" default="true"/>
  <arg name="ttc_flag" default="true"/>
  <arg name="semi_flag" default="false"/>

	<include file="$(find md)/launch/md.launch">
	</include>
	<!-- <include file="$(find fw_ahrs)/launch/fw_imu.launch">
	</include> -->
	<include file="$(find rplidar_ros)/launch/fw_rp_s2.launch">
	</include>
	<include if="$(arg smooth_flag)" file="$(find yocs_velocity_smoother)/launch/standalone_nav.launch">
  	</include>
  	<include if="$(arg smooth_flag)" file="$(find yocs_velocity_smoother)/launch/standalone_joy.launch">
  	</include>
  	<include if="$(arg smooth_flag)" file="$(find yocs_velocity_smoother)/launch/standalone_teleop.launch">
  	</include>
  	<include if="$(arg smooth_flag)" file="$(find yocs_velocity_smoother)/launch/standalone_emer.launch">
  	</include>
  	<include if="$(arg smooth_flag)" file="$(find yocs_velocity_smoother)/launch/standalone_super_emer.launch">
  	</include>
	
  	<include if="$(arg mux_flag)" file="$(find yocs_cmd_vel_mux)/launch/standalone.launch"/>
	<!-- <include file="$(find laser_filters)/launch/fw_filter.launch">
	</include> -->
	<!-- <include file="$(find ydlidar)/launch/fw_yd.launch">
	</include> -->
	<!-- <include file="$(find rplidar_ros)/launch/fw_rp_a1.launch">
	</include>
	<include file="$(find ira_laser_tools)/launch/laserscan_multi_merger.launch">
	</include> -->
	<!--include file="$(find realsense2_camera)/launch/rs_camera.launch"-->
	<!--/include-->
	<include file="$(find fw_rev_04_init)/launch/fw_remote.launch">
	</include>

    <group if="$(arg ttc_flag)">
      <rosparam file="$(find fw_ttc)/config/fw_ttc_params.yaml" command="load"/>
      <node name="fw_ttc_node" pkg="fw_ttc" type="fw_ttc_node" output="screen" respawn="false"/>
    </group>

	<node if="$(arg serial_flag)" pkg="rosserial_python" type="serial_node.py" name="serial_node" output="screen">
      <param name="port"	value="/dev/STMJOY" />
      <param name="baud"	value="57600" />
    </node>

	<node if="$(arg joy_flag)" pkg="freeway_joy" type="freeway_joy_node" name="freeway_joy_node" output="screen" respawn="false">
		<!-- <remap from="cmd_vel/joy" to="base_velocity"/> -->
	</node>

	<include if="$(arg semi_flag)" file="$(find safe_teleop_base)/launch/safe_teleop.launch">
	</include>
</launch>
